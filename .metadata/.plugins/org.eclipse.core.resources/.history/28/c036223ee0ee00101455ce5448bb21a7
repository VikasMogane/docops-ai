package com.docops.document.controller;

import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

@RestController
@RequestMapping("/documents")
@RequiredArgsConstructor
public class DocumentController {


private final DocumentService service;


@PostMapping("/upload")
public Document upload(@RequestParam String fileName,
@RequestParam String contentType,
Authentication auth) {


JwtPrincipal p = (JwtPrincipal) auth.getPrincipal();


return service.create(
p.orgId(),
p.userId(),
fileName,
contentType
);
}
}